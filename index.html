<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Cardboard Dungeon</title>
    <meta name="description" content="Cardboard Dungeon">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/aframe-prod.js"></script>
    <script src="js/jquery-2.2.0.min.js"></script>
    <script src="js/app.js?v=0.1.01"></script>
  </head>
  <body>
    <a-assets>
      <a-mixin id="wall" geometry="primitive: plane; height: 4; width: 4"></a-mixin>
      <a-mixin id="top" rotation="90 0 0" material="src: #texture-stone-roof; repeat:2 2"></a-mixin>
      <a-mixin id="bottom" rotation="-90 0 0" material="src: #texture-straw; repeat: 2 2"></a-mixin>
      <a-mixin id="right" rotation="0 -90 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="left" rotation="0 90 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="back" rotation="0 0 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="front" rotation="180 0 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="move" geometry="primitive: sphere; radius: 0.25;" material="color: #0000ff; opacity: 1"></a-mixin>
      <a-mixin id="sword-model" scale="0.05 0.05 0.05"></a-mixin>
      <a-mixin id="sword-trigger" geometry="primitive: plane; height: 0.7; width: 0.4" position="0 0.2 0.05" rotation="-90 0 0"></a-mixin>
      <img id="texture-stone" src="stone_wall.png?v=2">
      <img id="texture-straw" src="stone_floor_brown.png?v=2">
      <img id="texture-stone-roof" src="stone_ceiling.png?v=2">
    </a-assets>
    <a-scene>
      <!-- player -->
      <a-entity id="player" position="0 1.8 4">
        <a-entity light="type: point; intensity: 1.5; distance: 17; decay: 4" position="0 0 0"></a-entity>
        <a-entity camera look-controls wasd-controls="enabled: false">
          <a-entity id="cursor" position="0 0 -1" geometry="primitive: ring; radiusOuter: 0.016; radiusInner: 0.01" material="color: #FFF;" cursor="fuse: true; maxDistance: 8">
            <a-animation begin="fusing" easing="ease" attribute="scale" fill="none" from="1 1 1" to="0 0 0" dur="1500"></a-animation>
          </a-entity>

          <!-- items -->
          <a-model id="player-sword" visible="false" look-controls="enabled: false" src="models/sword.dae" position="0.7 -0.5 -1.2" rotation="50 0 60" scale="0.08 0.08 0.08"></a-model>
        </a-entity>
      </a-entity>

      <!-- inventory -->
      <a-entity id="inventory" position="0 0.1 4">
        <a-entity id="inv-slot-1" class="inv-slot" geometry="primitive: plane; height: 0.5; width: 0.5" rotation="-90 0 0" position="0 0 -0.25" material="color: #8B5742; transparent: true; opacity: 0.6">
          <a-animation begin="animate-inventory" easing="ease" attribute="position" fill="forwards" from="0 0 -0.25" to="0 0 -0.5" dur="1500"></a-animation>
          <a-animation begin="animate-inventory-close" easing="ease" attribute="position" fill="forwards" from="0 0 -0.5" to="0 0 -0.25" dur="1500"></a-animation>
        </a-entity>
        <a-entity id="inv-slot-2" class="inv-slot" geometry="primitive: plane; height: 0.5; width: 0.5" rotation="-90 0 0" position="0 0 0.25" material="color: #8B5742; transparent: true; opacity: 0.6">
          <a-animation begin="animate-inventory" easing="ease" attribute="position" fill="forwards" from="0 0 0.25" to="0 0 0.5" dur="1500"></a-animation>
          <a-animation begin="animate-inventory-close" easing="ease" attribute="position" fill="forwards" from="0 0 0.5" to="0 0 0.25" dur="1500"></a-animation>
        </a-entity>
        <a-entity id="inv-slot-3" class="inv-slot" geometry="primitive: plane; height: 0.5; width: 0.5" rotation="-90 0 0" position="-0.25 0 0" material="color: #8B5742; transparent: true; opacity: 0.6">
          <a-animation begin="animate-inventory" easing="ease" attribute="position" fill="forwards" from="-0.25 0 0" to="-0.5 0 0" dur="1500"></a-animation>
          <a-animation begin="animate-inventory-close" easing="ease" attribute="position" fill="forwards" from="-0.5 0 0" to="-0.25 0 0" dur="1500"></a-animation>
        </a-entity>
        <a-entity id="inv-slot-4" class="inv-slot" geometry="primitive: plane; height: 0.5; width: 0.5" rotation="-90 0 0" position="0.25 0 0" material="color: #8B5742; transparent: true; opacity: 0.6">
          <a-animation begin="animate-inventory" easing="ease" attribute="position" fill="forwards" from="0.25 0 0" to="0.5 0 0" dur="1500"></a-animation>
          <a-animation begin="animate-inventory-close" easing="ease" attribute="position" fill="forwards" from="0.5 0 0" to="0.25 0 0" dur="1500"></a-animation>
        </a-entity>
        <a-entity id="compass">
          <a-entity look-controls geometry="primitive: box; height: 0.3; width: 0.3; depth: 0.05" material="color: #FCB514" position="0 0.1 0"></a-entity>
          <a-model src="models/compass_needle.dae" scale="0.02 0.02 0.02" position="0 0.2 0"></a-model>
        </a-entity>
      </a-entity>

      <!-- ground floor -->
      <a-entity id="north-west">
      </a-entity>

      <a-entity id="north-north">
      </a-entity>

      <a-entity id="north">
        <a-entity class="move" mixin="move" position="0 3 0"></a-entity>
      </a-entity>

      <a-entity id="north-east">
      </a-entity>

      <a-entity id="west-west">
      </a-entity>

      <a-entity id="west">
        <a-entity class="move" mixin="move" position="-4 3 4"></a-entity>
      </a-entity>

      <a-entity id="center">
      </a-entity>

      <a-entity id="east-east">
      </a-entity>

      <a-entity id="east">
        <a-entity class="move" mixin="move" position="4 3 4"></a-entity>
      </a-entity>

      <a-entity id="south-west">
      </a-entity>

      <a-entity id="south-south">
      </a-entity>

      <a-entity id="south">
        <a-entity class="move" mixin="move" position="0 3 8"></a-entity>
      </a-entity>

      <a-entity id="south-east">
      </a-entity>

      <!-- bottom floor -->
      <a-entity id="bottom-north-west">
      </a-entity>

      <a-entity id="bottom-north-north">
      </a-entity>

      <a-entity id="bottom-north">
        <a-entity class="move" mixin="move" position="0 -1 0"></a-entity>
      </a-entity>

      <a-entity id="bottom-north-east">
      </a-entity>

      <a-entity id="bottom-west-west">
      </a-entity>

      <a-entity id="bottom-west">
        <a-entity class="move" mixin="move" position="-4 -1 4"></a-entity>
      </a-entity>

      <a-entity id="bottom-center">
      </a-entity>

      <a-entity id="bottom-east-east">
      </a-entity>

      <a-entity id="bottom-east">
        <a-entity class="move" mixin="move" position="4 -1 4"></a-entity>
      </a-entity>

      <a-entity id="bottom-south-west">
      </a-entity>

      <a-entity id="bottom-south-south">
      </a-entity>

      <a-entity id="bottom-south">
        <a-entity class="move" mixin="move" position="0 -1 8"></a-entity>
      </a-entity>

      <a-entity id="bottom-south-east">
      </a-entity>

      <!-- top floor -->
      <a-entity id="top-north-west">
      </a-entity>

      <a-entity id="top-north-north">
      </a-entity>

      <a-entity id="top-north">
        <a-entity class="move" mixin="move" position="0 7 0"></a-entity>
      </a-entity>

      <a-entity id="top-north-east">
      </a-entity>

      <a-entity id="top-west-west">
      </a-entity>

      <a-entity id="top-west">
        <a-entity class="move" mixin="move" position="-4 7 4"></a-entity>
      </a-entity>

      <a-entity id="top-center">
      </a-entity>

      <a-entity id="top-east-east">
      </a-entity>

      <a-entity id="top-east">
        <a-entity class="move" mixin="move" position="4 7 4"></a-entity>
      </a-entity>

      <a-entity id="top-south-west">
      </a-entity>

      <a-entity id="top-south-south">
      </a-entity>

      <a-entity id="top-south">
        <a-entity class="move" mixin="move" position="0 7 8"></a-entity>
      </a-entity>

      <a-entity id="top-south-east">
      </a-entity>

      <a-sky color="#000"></a-sky>
    </a-scene>
  </body>
</html>