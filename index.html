<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Cardboard Dungeon</title>
    <meta name="description" content="Cardboard Dungeon">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/aframe-prod.js"></script>
    <script src="js/jquery-2.2.0.min.js"></script>
    <script src="js/app.js?v=0.1.01"></script>
  </head>
  <body>
    <a-assets>
      <a-mixin id="wall" geometry="primitive: plane; height: 4; width: 4"></a-mixin>
      <a-mixin id="top" rotation="90 0 0" material="src: #texture-stone-roof; repeat: 4 4"></a-mixin>
      <a-mixin id="bottom" rotation="-90 0 0" material="src: #texture-straw; repeat: 4 4"></a-mixin>
      <a-mixin id="right" rotation="0 -90 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="left" rotation="0 90 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="back" rotation="0 0 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="front" rotation="180 0 0" material="src: #texture-stone; repeat: 2 2"></a-mixin>
      <a-mixin id="move" geometry="primitive: sphere; radius: 0.25;" material="color: #0000ff; opacity: 1"></a-mixin>
      <img id="texture-stone" src="stone.jpg?v=3">
      <img id="texture-straw" src="straw.jpg?v=3">
      <img id="texture-stone-roof" src="stone_roof.jpg?v=3">
    </a-assets>
    <a-scene>
      <!-- player -->
      <a-entity id="player" position="0 1.8 4">
        <a-entity light="type: point; intensity: 1.5; distance: 17; decay: 4" position="0 0 0"></a-entity>
        <a-entity camera look-controls wasd-controls="enabled: false">
          <a-entity id="cursor" position="0 0 -1" geometry="primitive: ring; radiusOuter: 0.016; radiusInner: 0.01" material="color: #FFF;" cursor="fuse: true; maxDistance: 8">
            <a-animation begin="fusing" easing="ease" attribute="scale" fill="none" from="1 1 1" to="0 0 0" dur="1500"></a-animation>
          </a-entity>
          <!-- compass -->
          <a-model look-controls="enabled: false" src="models/compass_case2.dae" position="-0.8 -0.6 -0.65" rotation="-10 45 0" scale="0.05 0.05 0.05"></a-model>
        </a-entity>

        <!-- animations -->
        <a-animation begin="animate-player-scale-down" easing="ease" attribute="scale" fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="1500"></a-animation>
        <a-animation begin="animate-player-scale-down" easing="ease" attribute="position" fill="forwards" from="0 1.8 4" to="0 0.64 4" dur="1500"></a-animation>
        <a-animation begin="animate-player-scale-up" easing="ease" attribute="scale" fill="forwards" from="0.1 0.1 0.1" to="1 1 1" dur="1500"></a-animation>
        <a-animation begin="animate-player-scale-up" easing="ease" attribute="position" fill="forwards" from="0 0.64 4" to="0 1.8 4" dur="1500"></a-animation>
      </a-entity>

      <!-- inventory -->
      <a-entity id="inventory" position="0 0.5 4">
        <a-entity id="inventory-light" visible="true" light="type: point; intensity: 0; distance: 45; decay: 2" position="0 3 0">
          <a-animation begin="animate-player-scale-down" easing="ease" attribute="light.intensity" fill="forwards" from="0" to="1.8" dur="1500"></a-animation>
        </a-entity>
        <a-entity geometry="primitive: plane; height: 0.3; width: 0.3" rotation="-90 0 0" material="color: #FF69B4"></a-entity>
        <a-entity geometry="primitive: plane; height: 0.3; width: 0.3" position="0 0.15 -0.15" material="color: #FF69B4"></a-entity>
        <a-entity geometry="primitive: plane; height: 0.3; width: 0.3" rotation="0 90 0" position="-0.15 0.15 0" material="color: #FF69B4"></a-entity>
        <a-entity geometry="primitive: plane; height: 0.3; width: 0.3" rotation="0 -90 0" position="0.15 0.15 0" material="color: #FF69B4"></a-entity>
        <a-entity geometry="primitive: plane; height: 0.3; width: 0.3" position="0 0.15 0.15" material="side:double; color: #FF69B4"></a-entity>
        <a-entity id="exit-inventory" geometry="primitive: box; height: 0.05; width: 0.05; depth: 0.05" position="-0.1 0.025 -0.1" material="color: #FFFFFF"></a-entity>
      </a-entity>

      <!-- ground floor -->
      <a-entity id="north-west">
      </a-entity>

      <a-entity id="north-north">
      </a-entity>

      <a-entity id="north">
        <a-entity class="move" mixin="move" position="0 3 0"></a-entity>
      </a-entity>

      <a-entity id="north-east">
      </a-entity>

      <a-entity id="west-west">
      </a-entity>

      <a-entity id="west">
        <a-entity class="move" mixin="move" position="-4 3 4"></a-entity>
      </a-entity>

      <a-entity id="center">
      </a-entity>

      <a-entity id="east-east">
      </a-entity>

      <a-entity id="east">
        <a-entity class="move" mixin="move" position="4 3 4"></a-entity>
      </a-entity>

      <a-entity id="south-west">
      </a-entity>

      <a-entity id="south-south">
      </a-entity>

      <a-entity id="south">
        <a-entity class="move" mixin="move" position="0 3 8"></a-entity>
      </a-entity>

      <a-entity id="south-east">
      </a-entity>

      <!-- bottom floor -->
      <a-entity id="bottom-north-west">
      </a-entity>

      <a-entity id="bottom-north-north">
      </a-entity>

      <a-entity id="bottom-north">
        <a-entity class="move" mixin="move" position="0 -1 0"></a-entity>
      </a-entity>

      <a-entity id="bottom-north-east">
      </a-entity>

      <a-entity id="bottom-west-west">
      </a-entity>

      <a-entity id="bottom-west">
        <a-entity class="move" mixin="move" position="-4 -1 4"></a-entity>
      </a-entity>

      <a-entity id="bottom-center">
      </a-entity>

      <a-entity id="bottom-east-east">
      </a-entity>

      <a-entity id="bottom-east">
        <a-entity class="move" mixin="move" position="4 -1 4"></a-entity>
      </a-entity>

      <a-entity id="bottom-south-west">
      </a-entity>

      <a-entity id="bottom-south-south">
      </a-entity>

      <a-entity id="bottom-south">
        <a-entity class="move" mixin="move" position="0 -1 8"></a-entity>
      </a-entity>

      <a-entity id="bottom-south-east">
      </a-entity>

      <!-- top floor -->
      <a-entity id="top-north-west">
      </a-entity>

      <a-entity id="top-north-north">
      </a-entity>

      <a-entity id="top-north">
        <a-entity class="move" mixin="move" position="0 7 0"></a-entity>
      </a-entity>

      <a-entity id="top-north-east">
      </a-entity>

      <a-entity id="top-west-west">
      </a-entity>

      <a-entity id="top-west">
        <a-entity class="move" mixin="move" position="-4 7 4"></a-entity>
      </a-entity>

      <a-entity id="top-center">
      </a-entity>

      <a-entity id="top-east-east">
      </a-entity>

      <a-entity id="top-east">
        <a-entity class="move" mixin="move" position="4 7 4"></a-entity>
      </a-entity>

      <a-entity id="top-south-west">
      </a-entity>

      <a-entity id="top-south-south">
      </a-entity>

      <a-entity id="top-south">
        <a-entity class="move" mixin="move" position="0 7 8"></a-entity>
      </a-entity>

      <a-entity id="top-south-east">
      </a-entity>

      <a-sky color="#000"></a-sky>
    </a-scene>
  </body>
</html>